// Copyright 2016 Year4000. All Rights Reserved.

// Run a console command and return the output
ext.cmd = { String[] input ->
    try {
        def out = new ByteArrayOutputStream();

        exec {
            commandLine input
            standardOutput = out
        }

        return out.toString().trim()
    }
    catch (Exception e) {
        println(e.toString())
        return 'unknown'
    }
}

// Grab the git hash id
ext.git = {
    cmd('git', 'log', '--pretty=format:%h', '-1')
}

